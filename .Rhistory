warning()
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
library(readxl)
ffq <- read_excel("FFQanalysis.xlsx",sheet= "Calcium intake",range = "A1:B159")
library(readxl)
ffq2 <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "Calcium intake",range = "A1:B159")
merge=merge(analysis,ffq,by ="ID",all=FALSE,sort=TRUE)
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
library(readxl)
ffq <- read_excel("FFQanalysis.xlsx",sheet= "Calcium intake",range = "A1:B159")
library(readxl)
ffq2 <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "Calcium intake",range = "A1:B159")
merge=merge(analysis,ffq,by ="ID",all=FALSE,sort=TRUE)
library(PAutilities)
data$age = get_age(as.Date(data$dateofbirth),as.Date(data$dentry),"years")                                       #calculating age (years)
data$puberty="Prepuberty"                                                                                        # Maturation
data$puberty[(data$xvoice==1)|(data$xmaletanner1>=3)|(data$xmenarch==1)|(data$xfemaletanner>=2)]="Puberty"
data$puberty=as.factor(data$puberty)
###Nutrition Status
data$bmi = round(data$weight/(data$height/100)^2,1)                #5 groups
data$age <- as.numeric(data$age)
data$sex <- as.factor(data$sex)
library(childsds)
data$zscore=sds(data$bmi, age = data$age, sex=data$sex, male=1, female =0, ref = who2007.ref, item="bmi", type ="SDS")
data$nustatus=data$zscore
data$nustatus[data$zscore>2]="Obesity"
data$nustatus[data$zscore<=2]="Overweight"
data$nustatus[data$zscore<=1]="Normal"
data$nustatus[data$zscore<(-2)]="Thinness"
data$nustatus[data$zscore<(-3)]="Severe Thinness"
data$ob=data$zscore
data$ob[data$zscore>1]="1"             #2 groups 1- Overweight or Obese ; 0 - NonOverweight or NonObese
data$ob[data$zscore<=1]="0"
trimdata <- data[,-c(4,5,22:33,40:43,48:64)]                                                                        #Trimming data
analysis <- na.omit(trimdata)
merge=merge(analysis,ffq,by ="ID",all=FALSE,sort=TRUE)
merge2=merge(merge,ffq2,by ="ID",all=FALSE,sort=TRUE)
op=par(mfrow=c(1,2))
hist(merge2$dailyintake)
hist(merge2$dailyintake2)
plot(merge2$SUBTOT_BMD,merge2$dailyintake)
plot(merge2$SUBTOT_BMD,merge2$dailyintake2)
cor(merge2$SUBTOT_BMD,merge2$dailyintake2)
Hmisc::describve(merge2$dailyintake)
Hmisc::describe(merge2$dailyintake)
Hmisc::describe(merge2$dailyintake2)
Hmisc::describe(log(merge2$dailyintake2))
Hmisc::describe(log(merge2$dailyintake2))
log=log(merge2$dailyintake2)
Hmisc::describe(log)
View(log)
mean(log)
mean(log,na.rm)
mean(log,na.rm=TRUE)
median(log, na.rm = TRUE)
mean(log, na.rm = TRUE)
hist(log)
hist(log)
mean(log)
mean(log, na.rm = TRUE)
?"-Inf"
help("-Inf")
aprospo("Inf")
aprospo("-Inf")
log <- log[,-c(,15)]
log <- log[,-15]
log <- log[,(-15)]
log <- log[,-(15)]
log <- log[,-15]
log <- log[-15]
log(61)
?log
log(0)
log = log["-Inf"]=0
log=log(merge2$dailyintake2)
log=log[log=="-Inf"]=0
log=log(merge2$dailyintake2)
log=log['-Inf']=0
log=log(merge2$dailyintake2)
log=merge2$dailyintake2
log = log[log==0]=1.1
log=merge2$dailyintake2
log[log==0]=1.1
View(log)
log=log(log)
Hmisc::describe(log)
?NA
merge2$dailyintake2[NA_character_]
merge2$dailyintake2[NA_character_]=63.125
merge2$dailyintake2["NA_character_"]=63.125
merge2$dailyintake2['NA']=63.125
?is.na
is.na(merge2$dailyintake2) <-63.125
View(merge2)
merge2$dailyintake2[15] == 63.125
merge2$dailyintake2[15] = 63.125
attach(analysis)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex + ob, data=analysis)
merge=merge(analysis,ffq,by ="ID",all=FALSE,sort=TRUE)
merge2$dailyintake2[15] = 63.125  ##Median
View(merge)
View(merge)
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
library(readxl)
ffq <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "Calcium intake",range = "A1:B159")
View(ffq)
library(PAutilities)
data$age = get_age(as.Date(data$dateofbirth),as.Date(data$dentry),"years")                                       #calculating age (years)
data$puberty="Prepuberty"                                                                                        # Maturation
data$puberty[(data$xvoice==1)|(data$xmaletanner1>=3)|(data$xmenarch==1)|(data$xfemaletanner>=2)]="Puberty"
data$puberty=as.factor(data$puberty)
###Nutrition Status
data$bmi = round(data$weight/(data$height/100)^2,1)                #5 groups
data$age <- as.numeric(data$age)
data$sex <- as.factor(data$sex)
library(childsds)
data$zscore=sds(data$bmi, age = data$age, sex=data$sex, male=1, female =0, ref = who2007.ref, item="bmi", type ="SDS")
data$nustatus=data$zscore
data$nustatus[data$zscore>2]="Obesity"
data$nustatus[data$zscore<=2]="Overweight"
data$nustatus[data$zscore<=1]="Normal"
data$nustatus[data$zscore<(-2)]="Thinness"
data$nustatus[data$zscore<(-3)]="Severe Thinness"
data$ob=data$zscore
data$ob[data$zscore>1]="1"             #2 groups 1- Overweight or Obese ; 0 - NonOverweight or NonObese
data$ob[data$zscore<=1]="0"
trimdata <- data[,-c(4,5,22:33,40:43,48:64)]                                                                        #Trimming data
analysis <- na.omit(trimdata)
merge=merge(analysis,ffq,by ="ID",all=FALSE,sort=TRUE)
View(merge)
merge$dailyintake2[15] = 63.125  ##Median
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist)
pairs.panels(vars)
detach(analysis)
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2)
pairs.panels(vars)
detach(analysis)
detach(merge)
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2)
pairs.panels(vars)
detach(merge)
merge$log = log(merge$dailyintake2)
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2,log)
pairs.panels(vars)
detach(merge)
View(merge)
typeof(log)
?special
merge$log['-Inf']
merge$log[log==(-Inf)]
merge$log[log=='-Inf']
merge$log[log=="-Inf"]
merge$log[log==(-Inf)]
merge$log[merge$log==(-Inf)]=0
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2,log)
pairs.panels(vars)
detach(merge)
cor.test(merge$SUBTOT_BMD,merge$log)
cor.test(merge$SUBTOT_BMD,merge$dailyintake2)
attach(analysis)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex + ob, data=analysis)
summary(reg1)
####Check for assumption of linear regression
op <- par(mfrow=c(2,2))
plot(reg1)
detach(analysis)
attach(analysis)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex + ob, data=analysis)
summary(reg1)
View(merge)
attach(analysis)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex + ob +puberty, data=analysis)
summary(reg1)
op <- par(mfrow=c(2,2))
plot(reg1)
detach(analysis)
attach(analysis)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex + ob +puberty, data=analysis)
summary(reg1)
library(Hmisc)
describve(merge$dailyintake2)
describe(merge$dailyintake2)
Hmisc::describe(merge$dailyintake2)
View(merge[,c("dailyintake2","sex","class")])
?help.search
help.search("linear models")
help.search("linear models")
help.search("print")
help.search("^glm")
aprospo("^glm")
aprospos("^glm")
apropos("^glm")
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
library(readxl)
ffq <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "Calcium intake",range = "A1:B159")
library(PAutilities)
data$age = get_age(as.Date(data$dateofbirth),as.Date(data$dentry),"years")                                       #calculating age (years)
data$puberty="Prepuberty"                                                                                        # Maturation
data$puberty[(data$xvoice==1)|(data$xmaletanner1>=3)|(data$xmenarch==1)|(data$xfemaletanner>=2)]="Puberty"
data$puberty=as.factor(data$puberty)
###Nutrition Status
data$bmi = round(data$weight/(data$height/100)^2,1)                #5 groups
data$age <- as.numeric(data$age)
data$sex <- as.factor(data$sex)
library(childsds)
data$zscore=sds(data$bmi, age = data$age, sex=data$sex, male=1, female =0, ref = who2007.ref, item="bmi", type ="SDS")
data$nustatus=data$zscore
data$nustatus[data$zscore>2]="Obesity"
data$nustatus[data$zscore<=2]="Overweight"
data$nustatus[data$zscore<=1]="Normal"
data$nustatus[data$zscore<(-2)]="Thinness"
data$nustatus[data$zscore<(-3)]="Severe Thinness"
data$ob=data$zscore
data$ob[data$zscore>1]="1"             #2 groups 1- Overweight or Obese ; 0 - NonOverweight or NonObese
data$ob[data$zscore<=1]="0"
trimdata <- data[,-c(4,5,22:33,40:43,48:64)]                                                                        #Trimming data
analysis <- na.omit(trimdata)
apropos("^conf")
apropos("^ci")
apropos95
apropos("^95")
apropos("^interval")
apropos("^int")
library(Hmisc)
describe(merge$dailyintake2)
describe(merge$dailyintake2)
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
library(readxl)
ffq <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "Calcium intake",range = "A1:B159")
library(PAutilities)
data$age = get_age(as.Date(data$dateofbirth),as.Date(data$dentry),"years")                                       #calculating age (years)
data$puberty="Prepuberty"                                                                                        # Maturation
data$puberty[(data$xvoice==1)|(data$xmaletanner1>=3)|(data$xmenarch==1)|(data$xfemaletanner>=2)]="Puberty"
data$puberty=as.factor(data$puberty)
###Nutrition Status
data$bmi = round(data$weight/(data$height/100)^2,1)                #5 groups
data$age <- as.numeric(data$age)
data$sex <- as.factor(data$sex)
library(childsds)
data$zscore=sds(data$bmi, age = data$age, sex=data$sex, male=1, female =0, ref = who2007.ref, item="bmi", type ="SDS")
data$nustatus=data$zscore
data$nustatus[data$zscore>2]="Obesity"
data$nustatus[data$zscore<=2]="Overweight"
data$nustatus[data$zscore<=1]="Normal"
data$nustatus[data$zscore<(-2)]="Thinness"
data$nustatus[data$zscore<(-3)]="Severe Thinness"
data$ob=data$zscore
data$ob[data$zscore>1]="1"             #2 groups 1- Overweight or Obese ; 0 - NonOverweight or NonObese
data$ob[data$zscore<=1]="0"
trimdata <- data[,-c(4,5,22:33,40:43,48:64)]                                                                        #Trimming data
analysis <- na.omit(trimdata)
merge=merge(analysis,ffq,by ="ID",all=FALSE,sort=TRUE)
merge$dailyintake2[15] = 63.125  ##Median
merge$log = log(merge$dailyintake2)
merge$log[merge$log==(-Inf)]=0
library(Hmisc)
describe(merge$dailyintake2)
describe(merge$dailyintake2[c(10,11,12)])
describe(merge$dailyintake2[merge$class[c(10,11,12)]])
merge$class[c(10,11,12)]
merge$class[merge$class%in%c(10,11,12)]
library(gmodels)
CrossTable(merge$class)
describe(merge$dailyintake2[merge$class[merge$class[merge$class%in%c(10,11,12)]]])
Hmisc::describe(merge$dailyintake2[merge$class[merge$class[merge$class%in%c(10,11,12)]]])
mean(merge$dailyintake2)
?mean
mean(merge$dailyintake2[merge$class[merge$class[merge$class%in%c(10,11,12)]]])
median(merge$dailyintake2[merge$class[merge$class[merge$class%in%c(10,11,12)]]])
?tabular
help(tabular)
help(tabular,package = "tables")
library(tables)
tabular(merge$class~merge$dailyintake2*(1+mean+median+sd))
tabular(class~dailyintake2*(1+mean+median+sd),data = merge)
typeof(class, data = merge)
typeof(class, data = "merge")
typeof(merge$class)
merge$class <- as.factor(merge$class)
tabular(class~dailyintake2*(1+mean+median+sd),data = merge)
plot(merge$class,merge$dailyintake2)
merge$class <- asas.numeric(merge$class)
merge$class <- as.numeric(merge$class)
plot(merge$class,merge$dailyintake2)
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2,log,ob,puberty)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2,log,ob)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2,log,ob)
pairs.panels(vars)
library(psych)
attach(merge)
vars=cbind(SUBTOT_BMD,age,height,weight,hip,waist,dailyintake2,log)
pairs.panels(vars)
detach(merge)
attach(merge)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex +puberty, data=analysis)
summary(reg1)
attach(merge)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex +puberty+ob, data=analysis)
summary(reg1)
attach(merge)
reg1 <- lm(SUBTOT_BMD ~ age + height + weight + hip + waist + dailyintake2 + sex +puberty, data=analysis)
summary(reg1)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
ffq <- read_excel("BMDanalysis.updated.xlsx",sheet= "ffq assessment")
library(readxl)
ffq <- read_excel("FFQanalysis.xlsx",sheet= "ffq assessment")
library(readxl)
ffq <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "ffq assessment")
library(readxl)
ffq <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "ffq assessment")
View(ffq)
table(MilkCalcium)
table(ffq$MilkCalcium)
table(ffq$DrinkMilk)
library(tables)
tabular(ffq$DrinkMilk)
library(gmodels)
CrossTable(ffq$DrinkMilk)
gmodel::CrossTable(ffq$Milk.1timeaday)
gmodels::CrossTable(ffq$Milk.1timeaday)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
View(data)
library(PAutilities)
data$age = get_age(as.Date(data$dateofbirth),as.Date(data$dentry),"years")                                       #calculating age (years)
data$puberty="Prepuberty"                                                                                        # Maturation
data$puberty[(data$xvoice==1)|(data$xmaletanner1>=3)|(data$xmenarch==1)|(data$xfemaletanner>=2)]="Puberty"
data$puberty=as.factor(data$puberty)
###Nutrition Status
data$bmi = round(data$weight/(data$height/100)^2,1)                #5 groups
data$age <- as.numeric(data$age)
data$sex <- as.factor(data$sex)
library(childsds)
data$zscore=sds(data$bmi, age = data$age, sex=data$sex, male=1, female =0, ref = who2007.ref, item="bmi", type ="SDS")
data$nustatus=data$zscore
data$nustatus[data$zscore>2]="Obesity"
data$nustatus[data$zscore<=2]="Overweight"
data$nustatus[data$zscore<=1]="Normal"
data$nustatus[data$zscore<(-2)]="Thinness"
data$nustatus[data$zscore<(-3)]="Severe Thinness"
data$ob=data$zscore
data$ob[data$zscore>1]="1"             #2 groups 1- Overweight or Obese ; 0 - NonOverweight or NonObese
data$ob[data$zscore<=1]="0"
trimdata <- data[,-c(4,5,22:33,40:43,48:64)]                                                                        #Trimming data
analysis <- na.omit(trimdata)
install.packages("tsiR")
vector()
x <- 1L
x
typeof(x)
attributes(x)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
attributes(dÃ¢t)
attributes(data)
x <- 1:20
attributes(x)
x <- 1.1:2
x
conlon
colon
help(colon)
x <- 1.1:10
x
x <- (-1):(-10)
x
getwd()
help("function")
myfunction <- function() {
x <-rnorm(100)
mean(x)
}
View(myfunction)
View(myfunction)
function() {
x <-rnorm(100)
mean(x)
}
myfunction()
ls()
help(ls)
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
ls()
myfunction
table
dir()
getwd()
attributes(data)
dim(data)
x <- matrix(1:6, nrow =2, ncol=3)
x
x <- factor(c('yes','no','no','yes','yes'))
x
attributes(x)
z <- attributes(x)
View(z)
class(z)
attributes(z)
x <- (a, TRUE)
x <- c(a, TRUE)
x <- c("a", TRUE)
class(x)
x <- list("a", TRUE)
View(x)
x
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
setwd("D:/GoogleDrive/1-Research Projects/BMD Pilot/Publication/BMD")
library(readxl)
ffq <- read_excel("FFQanalysis.adjusted.xlsx",sheet= "Calcium intake",range = "A1:B159")
library(PAutilities)
data$age = get_age(as.Date(data$dateofbirth),as.Date(data$dentry),"years")                                       #calculating age (years)
data$puberty="Prepuberty"                                                                                        # Maturation
data$puberty[(data$xvoice==1)|(data$xmaletanner1>=3)|(data$xmenarch==1)|(data$xfemaletanner>=2)]="Puberty"
data$puberty=as.factor(data$puberty)
###Nutrition Status
data$bmi = round(data$weight/(data$height/100)^2,1)                #5 groups
data$age <- as.numeric(data$age)
data$sex <- as.factor(data$sex)
library(childsds)
data$zscore=sds(data$bmi, age = data$age, sex=data$sex, male=1, female =0, ref = who2007.ref, item="bmi", type ="SDS")
data$nustatus=data$zscore
data$nustatus[data$zscore>2]="Obesity"
data$nustatus[data$zscore<=2]="Overweight"
data$nustatus[data$zscore<=1]="Normal"
data$nustatus[data$zscore<(-2)]="Thinness"
data$nustatus[data$zscore<(-3)]="Severe Thinness"
data$ob=data$zscore
data$ob[data$zscore>1]="1"             #2 groups 1- Overweight or Obese ; 0 - NonOverweight or NonObese
data$ob[data$zscore<=1]="0"
trimdata <- data[,-c(4,5,22:33,40:43,48:64)]                                                                        #Trimming data
analysis <- na.omit(trimdata)
class(data$nustatus)
attributes(data$nustatus)
help("factor")
data$nustatus <-factor(data$nustatus)
class(data$nustatus)
attributes(data$nustatus)
data$nustatus <-factor(data$nustatus,levels = c('Severe Thinness','Thinnes','Nornal','Overweight','Obesity'))
attributes(data$nustatus)
unclass(data$nustatus)
data$nustatus <-as.factor(data$nustatus,levels = c('Severe Thinness','Thinnes','Nornal','Overweight','Obesity'))
data$nustatus <-is.factor(data$nustatus,levels = c('Severe Thinness','Thinnes','Nornal','Overweight','Obesity'))
data$nustatus <-factor(data$nustatus,levels = c('Severe Thinness','Thinnes','Nornal','Overweight','Obesity'))
dim(data$nustatus)
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
View(data)
x <- is.na(data)
View(x)
table(x)
table(x$ID)
View(x)
help.search("atomic vector")
is.na(data)
View(x)
class(x)
class(data)
View(data)
View(x)
x <- as.data.frame(x)
table(x)
table(x$ID)
d
asdf
x <- 1:3
names(x)
names(x) <- c('thanh','van','kim')
x
View(x)
class(x)
class(names(x))
y <- names(x)
y
class(y)
View(y)
y <- list(1,"two",3.1,4+5i,TRUE)
View(y)
x <- list(a=1,b="two",c=3.1,d=4+5i,e=TRUE)
View(x)
help("dimnames")
browseVignettes("dimnames")
browseVignettes("dimnames",package="base")
browseVignettes(dimnames)
?list
library(readxl)
data <- read_excel("BMDanalysis.updated.xlsx",sheet= "Analysis", range="C1:BN159")
dput(data)
setwd("C:/Users/DELL/Desktop/Data_Science_in_R")
dput(data,file = "BMDdata")
dput(data,file = "BMDdata.R")
data <- dget("BMDdata.R")
View(data)
